# based on PKGBUILD from Tk-Glitch <ti3nou@gmail.com>
msg2() {
 echo -e " \033[1;34m->\033[1;0m \033[1;1m$1\033[1;0m" >&2
}

error() {
 echo -e " \033[1;31m==> ERROR: $1\033[1;0m" >&2
}

warning() {
 echo -e " \033[1;33m==> WARNING: $1\033[1;0m" >&2
}

plain() {
 echo "$1" >&2
}

create_wrksrc=yes
wrksrc=linux-tkg
_where="${XBPS_BUILDDIR}/${wrksrc}/linux-tkg"
srcdir="${XBPS_BUILDDIR}/${wrksrc}"
_files="${XBPS_SRCPKGDIR}/linux-tkg/files"
_userpatch_dir="${_where}/linux${_basever}-tkg-userpatches"

if [ ! -e ${srcdir} ]; then
	mkdir ${srcdir}
fi

if [ ! -e ${srcdir}/linux-tkg ]; then
	cd ${srcdir}
	git clone https://github.com/Frogging-Family/linux-tkg.git
fi

source ${_files}/customization.cfg
source ${_where}/linux-tkg-config/prepare

if [ ! -e ${srcdir}/run_check ]; then
  _tkg_initscript
  if [[ "$_sub" = rc* ]]; then
    echo "_srcpath=\"linux-${_basekernel}-${_sub}\"" >> ${srcdir}/path
  else
    echo "_srcpath=\"linux-${_basekernel}.${_sub}\"" >> ${srcdir}/path
  fi
  for _f in ${_files}/mypatches/*.mypatch; do
	[ ! -d ${_userpatch_dir} ] && mkdir ${_userpatch_dir}
	if [ -e "${_f}" ]; then
	  cp ${_files}/mypatches/${_basekernel}/*.mypatch ${_userpatch_dir}
	  break
        fi
  done
  _compiler_opt=${_compileropt}
  echo "_compiler_opt=\"$_compileropt\"" >> "${srcdir}/compilerset"
fi
source ${_where}/BIG_UGLY_FROGMINER
touch ${srcdir}/run_check
source ${srcdir}/path
# Template file for 'linux${_basever}-tkg-${_cpusched}${_compiler_name}'
pkgname=linux${_basever}-tkg-${_cpusched}${_compiler_name}
headers_name=linux${_basever}-tkg-headers-${_cpusched}${_compiler_name}
if [ ! -e ${XBPS_SRCPKGDIR}/${pkgname} ] || [ ! -e ${XBPS_SRCPKGDIR}/${headers_name} ]; then
	pushd ${XBPS_SRCPKGDIR}
	ln -s linux-tkg ${pkgname}
	ln -s linux-tkg ${headers_name}
	popd
fi
pkgdesc="Linux-tkg"
revision=21
archs="x86_64" # PKGBUILD declares x86_64 only
python_version=3
patch_args="-Np1"
hostmakedepends="schedtool xmlto openssl-devel docbook-xsl kmod inetutils bc libelf patchutils flex python3-Sphinx python3-sphinx_rtd_theme graphviz perl uboot-mkimage cpio gmp-devel libmpc-devel elfutils-devel pahole git zstd tar"
makedepends="xz modprobed-db wget"
triggers="kernel-hooks"

if [[ "$_sub" = rc* ]]; then
  # xbps forces 3 digits in version for kernel
  version=${_basekernel}.0
  _rc_kern_ver=${_basekernel}-${_sub}
  _kern_ver_path=${_basekernel}-${_sub}
  _kern_ver_dir=${version}-${_sub}
  _kern_ver=${version}
  kernel_site="https://git.kernel.org/torvalds/t/linux-${_rc_kern_ver}.tar.gz"
else
  version=${_basekernel}.${_sub}
  _kern_ver=${_basekernel}
  _kern_ver_path=${_basekernel}
  _kern_ver_dir=${version}
  kernel_site="https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-${_basekernel}.tar.xz"
  patch_site="https://cdn.kernel.org/pub/linux/kernel/v5.x/patch-${_basekernel}.${_sub}.xz"
fi

_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
_make_kernver="-tkg-${_cpusched}${_compiler_name}_${revision}"
short_desc="The Linux Kernel with custom TKG patchsets ($_basekernel series)"
maintainer="Hyper-KVM <hyperkvmx86@gmail.com>"
license="GPL-2.0-only"
homepage="https://github.com/Frogging-Family/linux-tkg/tree/master"

case $_basever in
        54)
	stupid_num="1"
	opt_ver="4.19-5.4"
	cpu_opt_sum='27b7fc535ade94b636c3ec4e809e141831e9465a0ef55215a9852b87048629e2'
        ;;
        57)
	stupid_num="3"
        opt_ver="5.7+"
	cpu_opt_sum='1f56a2466bd9b4477925682d8f944fabb38727140e246733214fe50aa326fc47'
        ;;
        58)
	stupid_num="5"
        opt_ver="5.8-5.14"
	cpu_opt_sum='2f99d9e37f372925e054115bfead4723a328ffbdb7bf958753aab2ac48dc5673'
        ;;
        59)
	stupid_num="7"
        opt_ver="5.8-5.14"
	cpu_opt_sum='2f99d9e37f372925e054115bfead4723a328ffbdb7bf958753aab2ac48dc5673'
        ;;
        510)
	stupid_num="9"
        opt_ver="5.8-5.14"
	cpu_opt_sum='2f99d9e37f372925e054115bfead4723a328ffbdb7bf958753aab2ac48dc5673'
       ;;
        511)
	stupid_num="11"
        opt_ver="5.8-5.14"
	cpu_opt_sum='2f99d9e37f372925e054115bfead4723a328ffbdb7bf958753aab2ac48dc5673'
       ;;
        512)
	stupid_num="13"
        opt_ver="5.8-5.14"
	cpu_opt_sum='2f99d9e37f372925e054115bfead4723a328ffbdb7bf958753aab2ac48dc5673'
       ;;
        513)
	stupid_num="15"
	opt_ver="5.8-5.14"
	cpu_opt_sum='2f99d9e37f372925e054115bfead4723a328ffbdb7bf958753aab2ac48dc5673'
       ;;
        514)
	stupid_num="17"
        opt_ver="5.8-5.14"
	cpu_opt_sum='2f99d9e37f372925e054115bfead4723a328ffbdb7bf958753aab2ac48dc5673'
	;;
        515)
	stupid_num="19"
        opt_ver="5.15-5.16"
	cpu_opt_sum='2893ca70c1812f98cbf1ea1ed0abac7b70c91b21f07c4f6c1816a769bcc34909'
	;;
	516)
	stupid_num="21"
	opt_ver="5.15-5.16"
	cpu_opt_sum='2893ca70c1812f98cbf1ea1ed0abac7b70c91b21f07c4f6c1816a769bcc34909'
	;;
	517)
	stupid_num="23"
	opt_ver="5.17+"
	cpu_opt_sum='dea86a521603414a8c7bf9cf1f41090d5d6f8035ce31407449e25964befb1e50'
	;;
esac
kernel_sum=$( grep -i -A 1 'sha256sums=(' ${_where}/PKGBUILD | cut -d"'" -f2 | sed '/--/d;/#/d' | head -${stupid_num} | tail +${stupid_num})
patch_sum=$( grep -i -A 1 'sha256sums=(' ${_where}/PKGBUILD | cut -d"'" -f2 | sed '/--/d;/#/d' | head -$((${stupid_num}+1)) | tail +$((${stupid_num}+1)))
distfiles="${kernel_site}
${patch_site}"
checksum="${kernel_sum}
${patch_sum}"
nostrip=yes
noshlibprovides=yes
preserve=yes
nodebug=yes
if [ "$_compiler_name" = "-llvm" ]; then
  hostmakedepends+=" llvm clang lld libclang libclang-cpp"
fi

# These files could be modified when an external module is built.
mutable_files="
 /usr/lib/modules/${_kernver}/modules.builtin.bin
 /usr/lib/modules/${_kernver}/modules.builtin.alias.bin
 /usr/lib/modules/${_kernver}/modules.softdep
 /usr/lib/modules/${_kernver}/modules.dep
 /usr/lib/modules/${_kernver}/modules.dep.bin
 /usr/lib/modules/${_kernver}/modules.symbols
 /usr/lib/modules/${_kernver}/modules.symbols.bin
 /usr/lib/modules/${_kernver}/modules.alias
 /usr/lib/modules/${_kernver}/modules.alias.bin
 /usr/lib/modules/${_kernver}/modules.devname"

do_configure() {

  echo '       .---.`               `.---.'
  echo '    `/syhhhyso-           -osyhhhys/`'
  echo '   .syNMdhNNhss/``.---.``/sshNNhdMNys.'
  echo '   +sdMh.`+MNsssssssssssssssNM+`.hMds+'
  echo '   :syNNdhNNhssssssssssssssshNNhdNNys:'
  echo '    /ssyhhhysssssssssssssssssyhhhyss/'
  echo '    .ossssssssssssssssssssssssssssso.'
  echo '   :sssssssssssssssssssssssssssssssss:'
  echo '  /sssssssssssssssssssssssssssssssssss/'
  echo ' :sssssssssssssoosssssssoosssssssssssss:'
  echo ' osssssssssssssoosssssssoossssssssssssso'
  echo ' osssssssssssyyyyhhhhhhhyyyyssssssssssso'
  echo ' /yyyyyyhhdmmmmNNNNNNNNNNNmmmmdhhyyyyyy/'
  echo '  smmmNNNNNNNNNNNNNNNNNNNNNNNNNNNNNmmms'
  echo '   /dNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNd/'
  echo '    `:sdNNNNNNNNNNNNNNNNNNNNNNNNNds:`'
  echo '       `-+shdNNNNNNNNNNNNNNNdhs+-`'
  echo '             `.-:///////:-.`'

  if [ -n "$_custom_pkgbase" ]; then
    pkgbase="${_custom_pkgbase}"
  else
    pkgbase=linux"${_basever}"-tkg-"${_cpusched}${_compiler_name}"
  fi

  export KBUILD_BUILD_HOST=voidlinux
  export KBUILD_BUILD_USER=$pkgbase
  export KBUILD_BUILD_TIMESTAMP="$(date -Ru${SOURCE_DATE_EPOCH:+d @$SOURCE_DATE_EPOCH})"

  if [[ "$_sub" = rc* ]]; then
    cd ${wrksrc}/linux-${_rc_kern_ver}
  else
    cd ${wrksrc}/linux-${_basekernel}
  fi
  _tkg_srcprep
  
}

do_build() {


echo "
                                                            /(#%%%%%%#*..,*(
                         .     ..,*****/////,.   .  ,/((((((####%%&#,.,,,,,/
        . .        ..  ,/((#################((##%&%/,./(((((####%/,##,,,,,*(
,  .*(%&&&&&%%###(((/,*(((%%#################(((((((#%&(*(((###*,#@@&%#(**/(
&%%%%%&&&&%%%%%%###(((((%%%%%#################((((((#####%###/,#@@@@@@@@@%// 
%%%%%%%&&%%%%%%%###((((#%%%%%%%%###############(((############%%%%%%%%%#**(   
%%%%%%%%%%%%%%#####(((#%%%%%%%%######%%%%%%%%%%%%#((##########%#/(#####%#*, 
..*/##############(((#%%%%%%%%#(###%%%%%%%%%%%%%%%#%#(#%%%%#####%%**#####&/,    
,,,.,*,..*/#####(((##%%%%%%%%##(###%%%%%%%%%%%%%%%%##%((#%&&%###%&&#.*###%@(
,,,,/#@@@@%(*,,/((#%%%%%%%%%#######%%%%%%%%%%%%%#%#(#%&#(//#%#((##((%(.*&&#.
,/&@@@@@@%##/,/(#######%%%#####(###(#%%%&%%%%##(/%&%(&&%///////(((((((&/ 
/#########/*#########((######(/*/#///#%(#&%///////////(&/*/////**((((((&( 
/****/##(*((########((%%(%%(///*./(////#(//////////////(//**/////,*(((/(&(
,/***(#**(((########//////////*..,((((((//////////////*%%#/.*((((/,,/((/(&*   
.******/(((########(/////////*,##*****/(((((((((////(,.((.,#/,((((/,****/##   
(,,***///*(###%%###(*//////**(#*,(####*.(((((((((((((((#*#%&%#//(((/,,*//(#   
%/,***#@@&/(#%%%%#%//////,*#%%&&&%(*..*(((/(#((((((((((/(%#(*,.      .,*///   
(,#@&&@@&(*(%%%%%##*///*/%%%%&&@@@@&%(//(///(#((((((((,  .(/*/(#%#/*, .*//*  
/,(((###%(/(%%%%%##,,,(%%%%%%#(/*,,.      .//##((((((,... ,#/*%&%%##* .,*/* 
*#/,#/(%#/(((#%%%&%,(#*       .**/#%%%%(**...,(#(((*...... .*#/*((((. ,,,/. 
#/ ,%#,*/((((/(##&&/,.  ........*(*(%&%%##,.../##(. ..........*((**. ...., 
   /@@/,((((((((/(&(.   ........ ./(**(##(..**((*/(..,,,,,,,,,,,**. ,&&&(.*.
   %@@(.*/(((//(((#%**. .......... .*(*,*,./#*/#&&%(* .,*******.   (@&&%..
        **/((((((((#%**  ,,,,,,,......,*,.#@@@@@@@@@&%#(/**/(#%#..%@@@%,,*&,.*..
            ((#(((####*((. .,,,,,,,,,,. *&@@@@@@@@@@@@@@@&&&&&%**&@@@%,.*./@&&&/
           ../#######%/*###/*.    .,/#@@@@@@@@@@@@&**&@@@&&&%,/@@@@%.  /@@@@&*.
               .,(####(*,...,,*/,/%&&&@@@(*&%/,//,,,(&@@&&&&%,,%####. /@@@@%,.
                    ,/(##/,,,****,(&&&&@@@@&&&&&@@@@@&&%%###,,###%%*#&##@#.,(
            ,  ./####%%%%%(,,,,,,,,#%&&&&&&&&&&&&&&&&%#,.#&%#/*,*/#%#(*, #
           .(%####%%%%%%%&&#,,,..,. *#%&&&&&&&&%#(*,.  .*#%&@@@@&, ./%&&(..
             *&&&&&@@@&&&&&&%**/***..,,..,*//.     .... .(/..  ./%@@@@&&&/ ,
                %@@@@@@@@@@@@@(*/****.  .,///*,. ,,...  /@@%(*,*#%%(*#@@&&&,.
"

  # Clang 10 can't handle these options
  if [ "$_compiler_name" = "-llvm" ]; then
    CFLAGS=${CFLAGS/-fstack-clash-protection -D_FORTIFY_SOURCE=2/}
  fi

  # remove mandatory -O2 flag
  CFLAGS=${CFLAGS/-O2/}
  CFLAGS+=" ${_compiler_opt}"

  cd ${wrksrc}/linux-${_kern_ver_path}

  # Use custom compiler paths if defined
  if [ "$_compiler_name" = "-llvm" ] && [ -n "${CUSTOM_LLVM_PATH}" ]; then
    PATH=${CUSTOM_LLVM_PATH}/bin:${CUSTOM_LLVM_PATH}/lib:${CUSTOM_LLVM_PATH}/include:${PATH}
  elif [ -n "${CUSTOM_GCC_PATH}" ]; then
    PATH=${CUSTOM_GCC_PATH}/bin:${CUSTOM_GCC_PATH}/lib:${CUSTOM_GCC_PATH}/include:${PATH}
  fi

  if [ "$_force_all_threads" == "true" ]; then
    _force_all_threads="-j$((`nproc`+1))"
  else
    _force_all_threads="${makejobs}"
  fi

  # ccache
  if [ "$_noccache" != "true" ] && xbps-query -s ccache &> /dev/null; then
    export PATH="/usr/lib/ccache/bin/:$PATH"
    export CCACHE_SLOPPINESS="file_macro,locale,time_macros"
    export CCACHE_NOHASHDIR="true"
    msg2 'ccache was found and will be used'
  fi

  # build!
  _runtime=$( time ( schedtool -B -n 1 -e ionice -n 1 make ${llvm_opt} ${_force_all_threads} LOCALVERSION=${_make_kernver} bzImage modules 2>&1 ) 3>&1 1>&2 2>&3 ) || _runtime=$( time ( make ${llvm_opt} ${_force_all_threads} LOCALVERSION=${_make_kernver} bzImage modules 2>&1 ) 3>&1 1>&2 2>&3 )

  if [ -n "$_runtime" ]; then
    printf "compilation time : \n$_runtime"
  fi
}

do_install() {
	
	cd ${wrksrc}/linux-${_kern_ver_path}

	local arch subarch _args hdrdest

  	echo "Installing modules..."
  	make INSTALL_MOD_PATH="$DESTDIR" modules_install

  	hdrdest=${DESTDIR}/usr/src/kernel-headers-${_kernver}

  	vinstall .config 644 boot config-${_kernver}
  	vinstall System.map 644 boot System.map-${_kernver}
  	vinstall arch/x86/boot/bzImage 644 boot vmlinuz-${_kernver}

	# Switch to /usr.
        vmkdir usr
        mv ${DESTDIR}/lib ${DESTDIR}/usr

	
        cd ${DESTDIR}/usr/lib/modules/${_kernver}
        rm -f source build
        ln -sf ../../../src/kernel-headers-${_kernver} build

        cd ${wrksrc}/linux-${_kern_ver_path}
        # Install required headers to build external modules
        install -Dm644 Makefile ${hdrdest}/Makefile
        install -Dm644 kernel/Makefile ${hdrdest}/kernel/Makefile
        install -Dm644 .config ${hdrdest}/.config
        for file in $(find . -name Kconfig\*); do
                mkdir -p ${hdrdest}/$(dirname $file)
                install -Dm644 $file ${hdrdest}/${file}
        done
        for file in $(find arch/${subarch:-$arch} -name module.lds -o -name Kbuild.platforms -o -name Platform); do
                mkdir -p ${hdrdest}/$(dirname $file)
                install -Dm644 $file ${hdrdest}/${file}
        done
        mkdir -p ${hdrdest}/include
        # Remove firmware stuff provided by the "linux-firmware" pkg.
        rm -rf ${DESTDIR}/usr/lib/firmware

        for i in acpi asm-generic clocksource config crypto drm generated linux \
                math-emu media net pcmcia scsi sound trace uapi vdso video xen dt-bindings; do
                if [ -d include/$i ]; then
                        cp -a include/$i ${hdrdest}/include
                fi
        done

	cd ${wrksrc}/linux-${_kern_ver_path}
        mkdir -p ${hdrdest}/arch/x86
        cp -a arch/x86/include ${hdrdest}/arch/x86

	# Copy files necessary for later builds, like nvidia and vmware

	 cp Module.symvers ${hdrdest}
        cp -a scripts ${hdrdest}
        mkdir -p ${hdrdest}/security/selinux
        cp -a security/selinux/include ${hdrdest}/security/selinux
        mkdir -p ${hdrdest}/tools/include
        cp -a tools/include/tools ${hdrdest}/tools/include

        mkdir -p ${hdrdest}/arch/x86/kernel
        cp arch/x86/Makefile ${hdrdest}/arch/x86
        mkdir -p ${hdrdest}/arch/x86/kernel
        cp arch/x86/kernel/asm-offsets.s ${hdrdest}/arch/x86/kernel

	 # add headers for lirc package
        # pci
        for i in bt8xx cx88 saa7134; do
                mkdir -p ${hdrdest}/drivers/media/pci/${i}
                cp -a drivers/media/pci/${i}/*.h ${hdrdest}/drivers/media/pci/${i}
        done
        # usb
        for i in cpia2 em28xx pwc; do
                mkdir -p ${hdrdest}/drivers/media/usb/${i}
                cp -a drivers/media/usb/${i}/*.h ${hdrdest}/drivers/media/usb/${i}
        done
        # i2c
        mkdir -p ${hdrdest}/drivers/media/i2c
        cp drivers/media/i2c/*.h ${hdrdest}/drivers/media/i2c
        for i in cx25840; do
                mkdir -p ${hdrdest}/drivers/media/i2c/${i}
                cp -a drivers/media/i2c/${i}/*.h ${hdrdest}/drivers/media/i2c/${i}
        done

        # Add md headers
        mkdir -p ${hdrdest}/drivers/md
        cp drivers/md/*.h ${hdrdest}/drivers/md

        # Add inotify.h
        mkdir -p ${hdrdest}/include/linux
        cp include/linux/inotify.h ${hdrdest}/include/linux

        # Add wireless headers
	mkdir -p ${hdrdest}/net/mac80211/
        cp net/mac80211/*.h ${hdrdest}/net/mac80211

        # add dvb headers for external modules
	if [ $_basever -lt 514 ]; then 
	        mkdir -p ${hdrdest}/include/config/dvb/
        	cp include/config/dvb/*.h ${hdrdest}/include/config/dvb/
	fi

        # add dvb headers for http://mcentral.de/hg/~mrec/em28xx-new
        mkdir -p ${hdrdest}/drivers/media/dvb-frontends
        cp drivers/media/dvb-frontends/lgdt330x.h \
                ${hdrdest}/drivers/media/dvb-frontends/
        cp drivers/media/i2c/msp3400-driver.h ${hdrdest}/drivers/media/i2c/

        # add dvb headers
        mkdir -p ${hdrdest}/drivers/media/usb/dvb-usb
        cp drivers/media/usb/dvb-usb/*.h ${hdrdest}/drivers/media/usb/dvb-usb/
        mkdir -p ${hdrdest}/drivers/media/dvb-frontends
        cp drivers/media/dvb-frontends/*.h ${hdrdest}/drivers/media/dvb-frontends/
        mkdir -p ${hdrdest}/drivers/media/tuners
        cp drivers/media/tuners/*.h ${hdrdest}/drivers/media/tuners/

        # Add xfs and shmem for aufs building
        mkdir -p ${hdrdest}/fs/xfs/libxfs
        mkdir -p ${hdrdest}/mm
        cp fs/xfs/libxfs/xfs_sb.h ${hdrdest}/fs/xfs/libxfs/xfs_sb.h

	 # Add objtool binary, needed to build external modules with dkms
        mkdir -p ${hdrdest}/tools/objtool
        cp tools/objtool/objtool ${hdrdest}/tools/objtool

	# Remove unneeded architectures
        for arch in alpha avr32 blackfin cris frv h8300 \
                ia64 m* s* um v850 xtensa "arm* p*"; do
                rm -rf ${hdrdest}/arch/${arch}
        done

	# Keep arch/x86/ras/Kconfig as it is needed by drivers/ras/Kconfig
        mkdir -p ${hdrdest}/arch/x86/ras
        cp -a arch/x86/ras/Kconfig ${hdrdest}/arch/x86/ras/Kconfig

	 # Extract debugging symbols and compress modules
        msg_normal "$pkgver: extracting debug info and compressing modules, please wait...\n"
        install -Dm644 vmlinux ${DESTDIR}/usr/lib/debug/boot/vmlinux-${_kernver}
        (
        cd ${DESTDIR}
        export DESTDIR
        find ./ -name '*.ko' -print0 | \
                xargs -0r -n1 -P ${XBPS_MAKEJOBS} ${FILESDIR}/mv-debug
        )
        # ... and run depmod again.
        depmod -b ${DESTDIR}/usr -F System.map ${_kernver}

echo "
                                                            /(#%%%%%%#*..,*(
                         .     ..,*****/////,.   .  ,/((((((####%%&#,.,,,,,/
        . .        ..  ,/((#################((##%&%/,./(((((####%/,##,,,,,*(
,  .*(%&&&&&%%###(((/,*(((%%#################(((((((#%&(*(((###*,#@@&%#(**/(
&%%%%%&&&&%%%%%%###(((((%%%%%#################((((((#####%###/,#@@@@@@@@@%// 
%%%%%%%&&%%%%%%%###((((#%%%%%%%%###############(((############%%%%%%%%%#**(   
%%%%%%%%%%%%%%#####(((#%%%%%%%%######%%%%%%%%%%%%#((##########%#/(#####%#*, 
..*/##############(((#%%%%%%%%#(###%%%%%%%%%%%%%%%#%#(#%%%%#####%%**#####&/,    
,,,.,*,..*/#####(((##%%%%%%%%##(###%%%%%%%%%%%%%%%%##%((#%&&%###%&&#.*###%@(
,,,,/#@@@@%(*,,/((#%%%%%%%%%#######%%%%%%%%%%%%%#%#(#%&#(//#%#((##((%(.*&&#.
,/&@@@@@@%##/,/(#######%%%#####(###(#%%%&%%%%##(/%&%(&&%///////(((((((&/ 
/#########/*#########((######(/*/#///#%(#&%///////////(&/*/////**((((((&( 
/****/##(*((########((%%(%%(///*./(////#(//////////////(//**/////,*(((/(&(
,/***(#**(((########//////////*..,((((((//////////////*%%#/.*((((/,,/((/(&*   
.******/(((########(/////////*,##*****/(((((((((////(,.((.,#/,((((/,****/##   
(,,***///*(###%%###(*//////**(#*,(####*.(((((((((((((((#*#%&%#//(((/,,*//(#   
%/,***#@@&/(#%%%%#%//////,*#%%&&&%(*..*(((/(#((((((((((/(%#(*,.      .,*///   
(,#@&&@@&(*(%%%%%##*///*/%%%%&&@@@@&%(//(///(#((((((((,  .(/*/(#%#/*, .*//*  
/,(((###%(/(%%%%%##,,,(%%%%%%#(/*,,.      .//##((((((,... ,#/*%&%%##* .,*/* 
*#/,#/(%#/(((#%%%&%,(#*       .**/#%%%%(**...,(#(((*...... .*#/*((((. ,,,/. 
#/ ,%#,*/((((/(##&&/,.  ........*(*(%&%%##,.../##(. ..........*((**. ...., 
   /@@/,((((((((/(&(.   ........ ./(**(##(..**((*/(..,,,,,,,,,,,**. ,&&&(.*.
   %@@(.*/(((//(((#%**. .......... .*(*,*,./#*/#&&%(* .,*******.   (@&&%..
        **/((((((((#%**  ,,,,,,,......,*,.#@@@@@@@@@&%#(/**/(#%#..%@@@%,,*&,.*..
            ((#(((####*((. .,,,,,,,,,,. *&@@@@@@@@@@@@@@@&&&&&%**&@@@%,.*./@&&&/
           ../#######%/*###/*.    .,/#@@@@@@@@@@@@&**&@@@&&&%,/@@@@%.  /@@@@&*.
               .,(####(*,...,,*/,/%&&&@@@(*&%/,//,,,(&@@&&&&%,,%####. /@@@@%,.
                    ,/(##/,,,****,(&&&&@@@@&&&&&@@@@@&&%%###,,###%%*#&##@#.,(
            ,  ./####%%%%%(,,,,,,,,#%&&&&&&&&&&&&&&&&%#,.#&%#/*,*/#%#(*, #
           .(%####%%%%%%%&&#,,,..,. *#%&&&&&&&&%#(*,.  .*#%&@@@@&, ./%&&(..
             *&&&&&@@@&&&&&&%**/***..,,..,*//.     .... .(/..  ./%@@@@&&&/ ,
                %@@@@@@@@@@@@@(*/****.  .,///*,. ,,...  /@@%(*,*#%%(*#@@&&&,.
"
}

linux-tkg-dbg_package() {
   	preserve=yes
        nostrip=yes
        noverifyrdeps=yes
        noshlibprovides=yes
        repository=debug
        short_desc+=" - debugging symbols"
        pkg_install() {
                vmove usr/lib/debug
        }
}

# because xbps-src doesn't allow variables in subpkg functions
case $_basever-$_cpusched$_compiler_name in
	517-cacule)
	linux517-tkg-cacule_package() {
		short_desc+=" - CaCULE CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-cacule_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	517-upds)
	linux517-tkg-upds_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-upds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	517-pds)
	linux517-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	517-bmq)
	linux517-tkg-bmq_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-bmq_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	517-cfs)
	linux517-tkg-cfs_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-cfs_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	517-MuQSS)
	linux517-tkg-MuQSS_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-MuQSS_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	517-cacule-llvm)
	linux517-tkg-cacule-llvm_package() {
		short_desc+=" - CaCULE CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-cacule-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	517-upds-llvm)
	linux517-tkg-upds-llvm_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-upds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	517-pds-llvm)
	linux517-tkg-pds-llvm_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-pds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	517-bmq-llvm)
	linux517-tkg-bmq-llvm_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-bmq-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	517-cfs-llvm)
	linux517-tkg-cfs-llvm_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-cfs-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	517-MuQSS-llvm)
	linux517-tkg-MuQSS-llvm_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux517-tkg-headers-MuQSS-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-cacule)
	linux516-tkg-cacule_package() {
		short_desc+=" - CaCULE CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-cacule_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-upds)
	linux516-tkg-upds_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-upds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-pds)
	linux516-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-bmq)
	linux516-tkg-bmq_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-bmq_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-cfs)
	linux516-tkg-cfs_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-cfs_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-MuQSS)
	linux516-tkg-MuQSS_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-MuQSS_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-cacule-llvm)
	linux516-tkg-cacule-llvm_package() {
		short_desc+=" - CaCULE CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-cacule-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-upds-llvm)
	linux516-tkg-upds-llvm_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-upds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-pds-llvm)
	linux516-tkg-pds-llvm_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-pds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-bmq-llvm)
	linux516-tkg-bmq-llvm_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-bmq-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-cfs-llvm)
	linux516-tkg-cfs-llvm_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-cfs-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	516-MuQSS-llvm)
	linux516-tkg-MuQSS-llvm_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux516-tkg-headers-MuQSS-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-cacule)
	linux515-tkg-cacule_package() {
		short_desc+=" - CaCULE CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-cacule_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-upds)
	linux515-tkg-upds_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-upds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-pds)
	linux515-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-bmq)
	linux515-tkg-bmq_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-bmq_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-cfs)
	linux515-tkg-cfs_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-cfs_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-MuQSS)
	linux515-tkg-MuQSS_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-MuQSS_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-cacule-llvm)
	linux515-tkg-cacule-llvm_package() {
		short_desc+=" - CaCULE CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-cacule-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-upds-llvm)
	linux515-tkg-upds-llvm_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-upds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-pds-llvm)
	linux515-tkg-pds-llvm_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-pds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-bmq-llvm)
	linux515-tkg-bmq-llvm_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-bmq-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-cfs-llvm)
	linux515-tkg-cfs-llvm_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-cfs-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	515-MuQSS-llvm)
	linux515-tkg-MuQSS-llvm_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux515-tkg-headers-MuQSS-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-cacule)
	linux514-tkg-cacule_package() {
		short_desc+=" - CaCULE CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-cacule_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-upds)
	linux514-tkg-upds_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-upds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-pds)
	linux514-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-bmq)
	linux514-tkg-bmq_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-bmq_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-cfs)
	linux514-tkg-cfs_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-cfs_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-MuQSS)
	linux514-tkg-MuQSS_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-MuQSS_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-cacule-llvm)
	linux514-tkg-cacule-llvm_package() {
		short_desc+=" - CaCULE CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-cacule-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-upds-llvm)
	linux514-tkg-upds-llvm_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-upds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-pds-llvm)
	linux514-tkg-pds-llvm_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-pds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-bmq-llvm)
	linux514-tkg-bmq-llvm_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-bmq-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-cfs-llvm)
	linux514-tkg-cfs-llvm_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-cfs-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-MuQSS-llvm)
	linux514-tkg-MuQSS-llvm_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-MuQSS-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	514-pds)
	linux514-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux514-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	512-upds)
	linux512-tkg-upds_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux512-tkg-headers-upds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	512-pds)
	linux512-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux512-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	512-bmq)
	linux512-tkg-bmq_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux512-tkg-headers-bmq_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	512-cfs)
	linux512-tkg-cfs_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux512-tkg-headers-cfs_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	512-MuQSS)
	linux512-tkg-MuQSS_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux512-tkg-headers-MuQSS_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	512-upds-llvm)
	linux512-tkg-upds-llvm_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux512-tkg-headers-upds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	512-pds-llvm)
	linux512-tkg-pds-llvm_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux512-tkg-headers-pds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	512-bmq-llvm)
	linux512-tkg-bmq-llvm_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux512-tkg-headers-bmq-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	512-cfs-llvm)
	linux512-tkg-cfs-llvm_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux512-tkg-headers-cfs-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	512-MuQSS-llvm)
	linux512-tkg-MuQSS-llvm_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux512-tkg-headers-MuQSS-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	511-pds)
	linux511-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux511-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	511-bmq)
	linux511-tkg-bmq_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux511-tkg-headers-bmq_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	511-cfs)
	linux511-tkg-cfs_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux511-tkg-headers-cfs_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	511-MuQSS)
	linux511-tkg-MuQSS_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux511-tkg-headers-MuQSS_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	511-upds-llvm)
	linux511-tkg-upds-llvm_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux511-tkg-headers-upds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	511-pds-llvm)
	linux511-tkg-pds-llvm_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux511-tkg-headers-pds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	511-bmq-llvm)
	linux511-tkg-bmq-llvm_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux511-tkg-headers-bmq-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	511-cfs-llvm)
	linux511-tkg-cfs-llvm_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux511-tkg-headers-cfs-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	511-MuQSS-llvm)
	linux511-tkg-MuQSS-llvm_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux511-tkg-headers-MuQSS-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	510-upds)
	linux510-tkg-upds_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux510-tkg-headers-upds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	510-pds)
	linux510-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux510-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	510-bmq)
	linux510-tkg-bmq_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux510-tkg-headers-bmq_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	510-cfs)
	linux510-tkg-cfs_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux510-tkg-headers-cfs_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	510-MuQSS)
	linux510-tkg-MuQSS_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux510-tkg-headers-MuQSS_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	510-upds-llvm)
	linux510-tkg-upds-llvm_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux510-tkg-headers-upds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	510-pds-llvm)
	linux510-tkg-pds-llvm_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux510-tkg-headers-pds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	510-bmq-llvm)
	linux510-tkg-bmq-llvm_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux510-tkg-headers-bmq-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	510-cfs-llvm)
	linux510-tkg-cfs-llvm_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux510-tkg-headers-cfs-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	510-MuQSS-llvm)
	linux510-tkg-MuQSS-llvm_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux510-tkg-headers-MuQSS-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	59-upds)
	linux59-tkg-upds_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux59-tkg-headers-upds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	59-pds)
	linux59-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux59-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	59-bmq)
	linux59-tkg-bmq_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux59-tkg-headers-bmq_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	59-cfs)
	linux59-tkg-cfs_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux59-tkg-headers-cfs_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	59-MuQSS)
	linux59-tkg-MuQSS_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux59-tkg-headers-MuQSS_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	59-upds-llvm)
	linux59-tkg-upds-llvm_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux59-tkg-headers-upds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	59-pds-llvm)
	linux59-tkg-pds-llvm_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux59-tkg-headers-pds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	59-bmq-llvm)
	linux59-tkg-bmq-llvm_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux59-tkg-headers-bmq-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	59-cfs-llvm)
	linux59-tkg-cfs-llvm_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux59-tkg-headers-cfs-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	59-MuQSS-llvm)
	linux59-tkg-MuQSS-llvm_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux59-tkg-headers-MuQSS-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	58-upds)
	linux58-tkg-upds_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux58-tkg-headers-upds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	58-pds)
	linux58-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux58-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	58-bmq)
	linux58-tkg-bmq_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux58-tkg-headers-bmq_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	58-cfs)
	linux58-tkg-cfs_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux58-tkg-headers-cfs_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	58-MuQSS)
	linux58-tkg-MuQSS_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux58-tkg-headers-MuQSS_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	58-upds-llvm)
	linux58-tkg-upds-llvm_package() {
		short_desc+=" - undead (TkG) PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux58-tkg-headers-upds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	58-pds-llvm)
	linux58-tkg-pds-llvm_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux58-tkg-headers-pds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	58-bmq-llvm)
	linux58-tkg-bmq-llvm_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux58-tkg-headers-bmq-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	58-cfs-llvm)
	linux58-tkg-cfs-llvm_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux58-tkg-headers-cfs-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	58-MuQSS-llvm)
	linux58-tkg-MuQSS-llvm_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux58-tkg-headers-MuQSS-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	57-pds)
	linux57-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux57-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	57-bmq)
	linux57-tkg-bmq_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux57-tkg-headers-bmq_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	57-cfs)
	linux57-tkg-cfs_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux57-tkg-headers-cfs_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	57-MuQSS)
	linux57-tkg-MuQSS_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux57-tkg-headers-MuQSS_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	57-pds-llvm)
	linux57-tkg-pds-llvm_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux57-tkg-headers-pds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	57-bmq-llvm)
	linux57-tkg-bmq-llvm_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux57-tkg-headers-bmq-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	57-cfs-llvm)
	linux57-tkg-cfs-llvm_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux57-tkg-headers-cfs-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	57-MuQSS-llvm)
	linux57-tkg-MuQSS-llvm_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux57-tkg-headers-MuQSS-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	54-pds)
	linux54-tkg-pds_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux54-tkg-headers-pds_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	54-bmq)
	linux54-tkg-bmq_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux54-tkg-headers-bmq_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	54-cfs)
	linux54-tkg-cfs_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux54-tkg-headers-cfs_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	54-MuQSS)
	linux54-tkg-MuQSS_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/GCC"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux54-tkg-headers-MuQSS_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	54-pds-llvm)
	linux54-tkg-pds-llvm_package() {
		short_desc+=" - PDS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux54-tkg-headers-pds-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	54-bmq-llvm)
	linux54-tkg-bmq-llvm_package() {
		short_desc+=" - BMQ CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux54-tkg-headers-bmq-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	54-cfs-llvm)
	linux54-tkg-cfs-llvm_package() {
		short_desc+=" - CFS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux54-tkg-headers-cfs-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
	;;
	54-MuQSS-llvm)
	linux54-tkg-MuQSS-llvm_package() {
		short_desc+=" - MuQSS CPU Scheduler compiled w/LLVM"
		nostrip=yes
		noshlibprovides=yes
		preserve=yes
		triggers="kernel-hooks"
		_kernver="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
		kernel_hooks_version="${_kern_ver_dir}-tkg-${_cpusched}${_compiler_name}_${revision}"
	}
	linux54-tkg-headers-MuQSS-llvm_package() {
  		short_desc+=" - Headers and scripts for building modules for the $pkgdesc kernel"
  		nostrip=yes
  		preserve=yes
  		noshlibprovides=yes
  		pkg_install() {
        		vmove /usr/src
        		vmove /usr/lib/modules/${_kernver}/build
  		}
	}
esac

